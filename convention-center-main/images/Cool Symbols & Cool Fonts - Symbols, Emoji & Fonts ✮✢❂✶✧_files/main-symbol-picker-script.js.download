MANUAL_COPY_MSG='Press "Ctrl + C" to copy';var NUMBER_OF_COPY_CLICKED_KEY="NUMBER_OF_COPY_CLICKED_KEY";var numberOfCopyClicked=0;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){MANUAL_COPY_MSG='Selected for copying';}
var isShowingEmojiInfo=false;var isInEmojiInfoDiv=false;var last_hovered_emoji='';emoji_info_div=$("#emoji-info");$("#emoji-info").mouseenter(function(e){isInEmojiInfoDiv=true;e.stopPropagation();}).mouseleave(function(){isInEmojiInfoDiv=false;emoji_info_div.addClass("disappearing");last_hovered_emoji='';isShowingEmojiInfo=false;$('.emoji_span_container').css('border-color','#000000');$("#copy-emoji-btn-text").html("Copy");})
$(document).ready(function(){emojiAutoCopy=new Clipboard('.cs');emojiAutoCopy.on('success',function(event){event.clearSelection();showCopyingModalDialog(event.text);});if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){$("#symbols-content-container").on('mouseenter','.cs',function(){if(isShowingEmojiInfo&&isInEmojiInfoDiv){}
else{that=this;var title=$(this).attr('title');current_emoji=$(this).data('clipboard-text');if($(this).hasClass("emoji"))
title+=" Emoji";var fullTitle=title+" Symbol "+encodeURI(current_emoji);fullTitle=fullTitle.replaceAll(" ","_");open_url='https://coolsymbol.com/copy/'+fullTitle;$("#emoji-info-value").html(current_emoji);$("#emoji-info-title-inside").html(title);$("#emoji-info-url").attr("href",open_url);setTimeout(function(){var the_emoji=$(that).data('clipboard-text');if(last_hovered_emoji==the_emoji)
return;else
last_hovered_emoji=the_emoji;emoji_info_div=$("#emoji-info");emoji_info_div.removeClass("disappearing");thisPos=$(that).position();topPos=thisPos.top;leftPos=thisPos.left+$(that).outerWidth(true)+3;parent_width=$("#symbols-content-container").width();if(leftPos+emoji_info_div.outerWidth(true)>=parent_width){leftPos=thisPos.left-emoji_info_div.outerWidth(true);}
emoji_info_div.css('top',topPos);emoji_info_div.css('left',leftPos);isShowingEmojiInfo=true;$('.cs').css('border-color','#000000');$(that).css('border-color','#ff3300');var emojiInfoCopyButton=new Clipboard('#copy-emoji-btn');emojiInfoCopyButton.on('success',function(event){event.clearSelection();$("#copy-emoji-btn-text").html("Copied");window.setTimeout(function(){$("#copy-emoji-btn-text").html("Copy");},3000);showCopyingModalDialog(event.text);});},100);}});$("#symbols-content-container").on('mouseleave','.cs',function(){emoji_info_div=$("#emoji-info");thisPos=$(this).position();setTimeout(function(){if(!isInEmojiInfoDiv){emoji_info_div.addClass("disappearing");last_hovered_emoji='';isShowingEmojiInfo=false;$(this).css('border-color','#000000');$("#copy-emoji-btn-text").html("Copy");}},100);});}
$("#insert-emoji-btn").click(function(){var the_emoji=$(that).data('clipboard-text');console.log("Insert "+the_emoji);insertAtCaret("symbol-message",the_emoji);$("#insert-emoji-btn").html(the_emoji+" inserted");window.setTimeout(function(){$("#insert-emoji-btn").html("Insert to board");},500);});var copyButton=new Clipboard('#copy-btn');copyButton.on('success',function(event){event.clearSelection();if(localStorage.getItem(NUMBER_OF_COPY_CLICKED_KEY)!=null){numberOfCopyClicked=parseInt(localStorage.getItem(NUMBER_OF_COPY_CLICKED_KEY));}
numberOfCopyClicked++;localStorage.setItem(NUMBER_OF_COPY_CLICKED_KEY,numberOfCopyClicked);showCopyingModalDialog(event.text);});copyButton.on('error',function(event){document.getElementById("copy_text").textContent=MANUAL_COPY_MSG;window.setTimeout(function(){document.getElementById("copy_text").textContent="Copy";},3000);});$("#clear-btn").click(function(){$("#symbol-message").val("");});});function insertAtCaret(areaId,text){var txtarea=document.getElementById(areaId);var scrollPos=txtarea.scrollTop;var caretPos=txtarea.selectionStart;var front=(txtarea.value).substring(0,caretPos);var back=(txtarea.value).substring(txtarea.selectionEnd,txtarea.value.length);txtarea.value=front+text+back;caretPos=caretPos+text.length;txtarea.selectionStart=caretPos;txtarea.selectionEnd=caretPos;txtarea.scrollTop=scrollPos;}
function backspaceAtCaret(areaId){var txtarea=document.getElementById(areaId);var scrollPos=txtarea.scrollTop;var caretPos=txtarea.selectionStart;var front=(txtarea.value).substring(0,caretPos-1);var back=(txtarea.value).substring(txtarea.selectionEnd,txtarea.value.length);txtarea.value=front+back;caretPos=caretPos-1;txtarea.selectionStart=caretPos;txtarea.selectionEnd=caretPos;txtarea.scrollTop=scrollPos;}